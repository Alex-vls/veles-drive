# üéâ –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢: VELES DRIVE –£–°–ü–ï–®–ù–û –†–ê–ó–í–ï–†–ù–£–¢ –í KUBERNETES!

## üìã –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–ê–ï–¢

### üöÄ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ |
|-----------|--------|-------------|
| **PostgreSQL** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `veles_drive` —Å–æ–∑–¥–∞–Ω–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ |
| **Redis** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ö—ç—à –∏ –±—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –≥–æ—Ç–æ–≤ |
| **Django Backend** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 80, –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã |
| **React Frontend** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Nginx –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã |
| **Kubernetes Ingress** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | SSL –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã |

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `veles_drive` (—Å–æ–∑–¥–∞–Ω–∞)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `veles_user`
- **–ú–∏–≥—Ä–∞—Ü–∏–∏**: ‚úÖ –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- **–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: ‚úÖ –°–æ–∑–¥–∞–Ω (`admin@veles-drive.ru` / `veles_admin_2024`)

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### Backend (Django)
- **–û–±—Ä–∞–∑**: `alsx12/veles-drive-backend:latest`
- **–ü–æ—Ä—Ç**: 80
- **Workers**: 1 (–¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL —á–µ—Ä–µ–∑ `DATABASE_URL`
- **–ö—ç—à**: Redis
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã**: 200 —Ñ–∞–π–ª–æ–≤ —Å–æ–±—Ä–∞–Ω—ã

#### Frontend (React)
- **–û–±—Ä–∞–∑**: `alsx12/veles-drive-frontend:latest`
- **–ü–æ—Ä—Ç**: 80
- **Web Server**: Nginx Alpine
- **Gzip**: –í–∫–ª—é—á–µ–Ω–æ
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

#### Kubernetes
- **Namespace**: `veles-drive`
- **Storage**: `local-storage-dynamic`
- **Ingress**: Nginx Ingress Controller
- **SSL**: Cert-Manager (Let's Encrypt)

### üåê –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

- **–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω**: `veles-drive.ru`
- **API**: `api.veles-drive.ru`
- **Admin**: `admin.veles-drive.ru`

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è**: ‚ùå –ó–∞–∫—Ä—ã—Ç–æ –æ—Ç –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
  - `robots.txt` —Å `Disallow: /`
  - –ú–µ—Ç–∞-—Ç–µ–≥–∏ `noindex, nofollow`
  - Nginx –∑–∞–≥–æ–ª–æ–≤–∫–∏ `X-Robots-Tag`
- **SSL**: ‚úÖ HTTPS –≤–∫–ª—é—á–µ–Ω
- **CORS**: –ù–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –¥–æ–º–µ–Ω–æ–≤ veles-drive.ru

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Health Checks**: –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Liveness Probes**: 60s delay, 30s period
- **Readiness Probes**: 30s delay, 10s period

### üßπ –û—á–∏—Å—Ç–∫–∞

–°—Ç–∞—Ä—ã–µ –ø–æ–¥—ã –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å:
```bash
kubectl delete pod debug-backend -n veles-drive
kubectl delete pod create-migrations -n veles-drive
```

### üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–æ–≤**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ DNS –∑–∞–ø–∏—Å–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ IP `91.219.148.28`
2. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**: Cert-Manager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∞–ª–µ—Ä—Ç—ã
4. **Backup**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
kubectl get pods -n veles-drive

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
kubectl logs -f deployment/veles-drive-backend -n veles-drive
kubectl logs -f deployment/veles-drive-frontend -n veles-drive

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
kubectl rollout restart deployment veles-drive-backend -n veles-drive
kubectl rollout restart deployment veles-drive-frontend -n veles-drive

# –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
kubectl exec -it deployment/veles-drive-postgres -n veles-drive -- psql -U veles_user -d veles_drive
```

---

## üéâ –ü–†–û–ï–ö–¢ VELES DRIVE –£–°–ü–ï–®–ù–û –†–ê–ó–í–ï–†–ù–£–¢ –í –ü–†–û–î–ê–ö–®–ï–ù–ï!

**–î–∞—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**: 25 –∞–≤–≥—É—Å—Ç–∞ 2025  
**–í—Ä–µ–º—è**: ~3 —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ
