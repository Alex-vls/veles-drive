import { useCallback, useRef, useEffect } from 'react';

// Ð¥ÑƒÐº Ð´Ð»Ñ Ð¼ÐµÐ¼Ð¾Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÐºÐ¾Ð»Ð±ÑÐºÐ¾Ð² - Ð¿Ð¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ€Ð°Ð· ÑÑ‚Ð¾ ÐºÐ°Ðº Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÐºÐ¾Ð´ Ð²Ð¼ÐµÑÑ‚Ð¾ ÐºÐ¾Ð¿Ð¸Ð¿Ð°ÑÑ‚Ñ‹ ðŸ˜…
const useMemoizedCallback = (callback, dependencies = []) => {
  const ref = useRef();

  // ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° ÐºÐ¾Ð»Ð±ÑÐº - ÐºÐ°Ðº Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð² LinkedIn, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð»ÐµÐ·Ð½ÐµÐµ ðŸ’¼
  useEffect(() => {
    ref.current = callback;
  }, [callback]);

  // Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð¼ÐµÐ¼Ð¾Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ ÐºÐ¾Ð»Ð±ÑÐºÐ° - ÐºÐ°Ðº ÐºÑÑˆÐ¸Ñ€ÑƒÐµÐ¼ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½ÐµÐµ ðŸ”’
  return useCallback((...args) => {
    return ref.current(...args);
  }, dependencies);
};

export default useMemoizedCallback; 